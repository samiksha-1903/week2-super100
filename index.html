<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Python Runner via Pyodide</title>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    button { margin: 5px; }
    textarea { width: 100%; height: 100px; }
    pre { background: #eee; padding: 10px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h1>Run Python Files in Browser</h1>

  <textarea id="input" placeholder="Enter input here (optional)"></textarea>
  <br>

  <button onclick="runScript('beginner1')">Run beginner1.py</button>
  <button onclick="runScript('beginner2')">Run beginner2.py</button>
  <button onclick="runScript('beginner3')">Run beginner3.py</button>
  <button onclick="runScript('task1')">Run task1.py</button>
  <button onclick="runScript('task2')">Run task2.py</button>
  <button onclick="runScript('task3')">Run task3.py</button>

  <h3>Output:</h3>
  <pre id="output">Loading Pyodide...</pre>

  <script>
    let pyodideReady = loadPyodide();

    // Store your Python files here
    const pythonFiles = {
      beginner1: `print("This is beginner1.py")`,
      beginner2: `print("This is beginner2.py")`,
      beginner3: `print("This is beginner3.py")`,
      task1: `print("This is task1.py")`,
      task2: `print("This is task2.py")`,
      task3: `print("This is task3.py")`
    };

    async function runScript(name) {
      const pyodide = await pyodideReady;
      const userInput = document.getElementById("input").value;
      try {
        pyodide.globals.set("user_input", userInput);
        const output = await pyodide.runPythonAsync(`
input_data = user_input
${pythonFiles[name]}
`);
        document.getElementById("output").textContent = output ?? "✅ Script executed";
      } catch (err) {
        document.getElementById("output").textContent = "❌ Error:\n" + err;
      }
    }
  </script>
</body>
</html>
